var Oiii;!function(){var e={352:function(e){function t(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,n(e,t,"get"))}function i(e,t,a){return function(e,t,a){if(t.set)t.set.call(e,a);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=a}}(e,n(e,t,"set"),a),a}function n(e,t,a){if(!t.has(e))throw new TypeError("attempted to "+a+" private field on non-instance");return t.get(e)}var r=new WeakMap,o=new WeakMap,l=new WeakMap,u=new WeakMap,s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r.set(this,{writable:!0,value:{area:null,container:null,button:null}}),o.set(this,{writable:!0,value:{type:!0,current:null,full:null}}),l.set(this,{writable:!0,value:["data-oi-list","data-oi-list-yt"]}),u.set(this,{writable:!0,value:["data-oi-image","data-oi-video"]}),this.make_viewer(),this.make_lists(),this.make_single()}var n,s;return n=e,(s=[{key:"make_viewer",value:function(){var e=this,t=document.createElement("div"),n=document.createElement("div"),o=document.createElement("a");t.classList.add("viewer"),n.classList.add("container"),t.addEventListener("click",(function(t){"A"!==t.target.tagName&&e.update(!1)})),o.innerText="",o.href="#",o.target="_blank",t.appendChild(n),t.appendChild(o),i(this,r,{area:t,container:n,button:o}),document.body.appendChild(a(this,r).area)}},{key:"make_lists",value:function(){var e=this,t=[];a(this,l).forEach((function(e){t=t.concat(Array.from(document.querySelectorAll(["[",e,"]"].join(""))))})),t.forEach((function(t){t.hasAttribute(a(e,l)[0])?e.handle(t.querySelectorAll("img")):t.hasAttribute(a(e,l)[1])&&e.handle(t.querySelectorAll("a"))}))}},{key:"make_single",value:function(){var e=[];a(this,u).forEach((function(t){e=e.concat(Array.from(document.querySelectorAll(["[",t,"]"].join(""))))})),this.handle(e)}},{key:"handle",value:function(e){var t=this;e.forEach((function(e){e.addEventListener("click",(function(a){a.preventDefault(),i(t,o,{current:e.hasAttribute("data-oi-preview")?e.dataset.oiPreview:e.dataset.oiYt,full:e.hasAttribute("data-oi-fullsize")?e.dataset.oiFullsize:null,type:e.hasAttribute("data-oi-preview")||e.hasAttribute("data-oi-fullsize")}),t.update(!0)}))}))}},{key:"update",value:function(e){var t=this;if(!0===e&&null!==a(this,o).current){if(!0===a(this,o).type){var i=document.createElement("img");i.src=a(this,o).current,a(this,r).container.appendChild(i),a(this,r).button.href=a(this,o).full}else if(!1===a(this,o).type){var n="https://www.youtube.com/embed/"+this.parse_url(a(this,o).current).toString(),l=document.createElement("iframe");l.src=n,l.frameBorder="0",l.allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",l.allowFullscreen=!0,a(this,r).container.appendChild(l),a(this,r).button.href=a(this,o).current}a(this,r).button.innerText=["Open",a(this,o).type?"image":"in YouTube"].join(" "),a(this,r).area.classList.toggle("viewer_show")}!1===e&&(a(this,r).area.classList.toggle("viewer_show"),setTimeout((function(){a(t,r).container.innerHTML="",a(t,r).button.href="#"}),250))}},{key:"parse_url",value:function(e){var t=e.match(/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#&?]*).*/);return!(!t||11!==t[7].length)&&t[7]}},{key:"unload",value:function(){document.body.removeChild(a(this,r).area)}}])&&t(n.prototype,s),e}();e.exports=s}},t={},a=function a(i){var n=t[i];if(void 0!==n)return n.exports;var r=t[i]={exports:{}};return e[i](r,r.exports,a),r.exports}(352);Oiii=a}();
//# sourceMappingURL=oiii.min.js.map