var Oiii=function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t){var n=t.get(e);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(e):n.value}function a(e,t,n){var r=t.get(e);if(!r)throw new TypeError("attempted to set private field on non-instance");if(r.set)r.set.call(e,n);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=n}return n}var i=new WeakMap,o=new WeakMap,l=new WeakMap,u=new WeakMap,c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i.set(this,{writable:!0,value:{area:null,container:null,button:null}}),o.set(this,{writable:!0,value:{type:!0,current:null,full:null}}),l.set(this,{writable:!0,value:["data-oi-list","data-oi-list-yt"]}),u.set(this,{writable:!0,value:["data-oi-image","data-oi-video"]}),this.make_viewer(),this.make_lists(),this.make_single()}var t,c,s;return t=e,(c=[{key:"make_viewer",value:function(){var e=this,t=document.createElement("div"),n=document.createElement("div"),o=document.createElement("a");t.classList.add("viewer"),n.classList.add("container"),t.addEventListener("click",(function(t){"A"!==t.target.tagName&&e.update(!1)})),o.innerText="",o.href="#",o.target="_blank",t.appendChild(n),t.appendChild(o),a(this,i,{area:t,container:n,button:o}),document.body.appendChild(r(this,i).area)}},{key:"make_lists",value:function(){var e=this,t=[];r(this,l).forEach((function(e){t=t.concat(Array.from(document.querySelectorAll(["[",e,"]"].join(""))))})),t.forEach((function(t){t.hasAttribute(r(e,l)[0])?e.handle(t.querySelectorAll("img")):t.hasAttribute(r(e,l)[1])&&e.handle(t.querySelectorAll("a"))}))}},{key:"make_single",value:function(){var e=[];r(this,u).forEach((function(t){e=e.concat(Array.from(document.querySelectorAll(["[",t,"]"].join(""))))})),this.handle(e)}},{key:"handle",value:function(e){var t=this;e.forEach((function(e){e.addEventListener("click",(function(n){n.preventDefault(),a(t,o,{current:e.hasAttribute("data-oi-preview")?e.dataset.oiPreview:e.dataset.oiYt,full:e.hasAttribute("data-oi-fullsize")?e.dataset.oiFullsize:null,type:e.hasAttribute("data-oi-preview")||e.hasAttribute("data-oi-fullsize")}),t.update(!0)}))}))}},{key:"update",value:function(e){var t=this;if(!0===e&&null!==r(this,o).current){if(!0===r(this,o).type){var n=document.createElement("img");n.src=r(this,o).current,r(this,i).container.appendChild(n),r(this,i).button.href=r(this,o).full}else if(!1===r(this,o).type){var a="https://www.youtube.com/embed/"+this.parse_url(r(this,o).current).toString(),l=document.createElement("iframe");l.src=a,l.frameBorder="0",l.allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",l.allowFullscreen=!0,r(this,i).container.appendChild(l),r(this,i).button.href=r(this,o).current}r(this,i).button.innerText=["Open",r(this,o).type?"image":"in YouTube"].join(" "),r(this,i).area.classList.toggle("viewer_show")}!1===e&&(r(this,i).area.classList.toggle("viewer_show"),setTimeout((function(){r(t,i).container.innerHTML="",r(t,i).button.href="#"}),250))}},{key:"parse_url",value:function(e){var t=e.match(/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#&?]*).*/);return!(!t||11!==t[7].length)&&t[7]}}])&&n(t.prototype,c),s&&n(t,s),e}();e.exports=c}]);
//# sourceMappingURL=oiii.min.js.map